<div *ngIf="conversation; else elseBlock">
  <ul class="messages">
    <div class="messageElmnt" [ngClass]="message.author === user?._id ? 'sent' : 'recieved'"
      *ngFor="let message of messages">
      <div class="date" *ngIf="isDifferentDate(message)">
        <span>{{dateToDateStr(message)}}</span>
      </div>
      <li class="message">
        <span *ngIf="message.status == 'deleted'"><em>[deleted]</em></span>
        <span *ngIf="message.status != 'deleted'">{{message.content}}</span>
        <div id="msg-info">
          <div class="time">
            <small>{{dateToTimeStr(message)}}</small>
          </div>
          <div class="status" [ngSwitch]="message.status" *ngIf="message.author === user?._id">
            <span *ngSwitchCase="'sent'" style="color: darkslategrey">ğŸ—¸</span>
            <span *ngSwitchCase="'recieved'" style="color: lightgreen; letter-spacing: -0.5ch; padding-inline: .5ch">ğŸ—¸ğŸ—¸</span>
            <span *ngSwitchCase="'deleted'" style="color: coral">X</span>
          </div>
        </div>
      </li>
    </div>
  </ul>
  <app-send-bar [conversation]="conversation"
    (onMessageRecieved)="addMessage($event)"/>
</div>

<ng-template #elseBlock>
  <h4 style="color: coral; padding: 2rem; margin: 0; text-align: center;">Select a conversation</h4>
</ng-template>
